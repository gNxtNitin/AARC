<div class="row">
    <div class="col-3">Selected Agency</div>
    <div class="col-3">
        <a style="cursor: pointer;" *ngIf="loggedInUser['AASecLevel'] == 'ADMIN' || loggedInUser['AASecLevel'] == 'EXEC'"
         (click)="EditAgency(selectedAgency)">
            {{selectedAgency['agency_name']}}
        </a>
        <div  *ngIf="loggedInUser['AASecLevel'] == 'PLAYER'"> {{selectedAgency['agency_name']}}</div>
    </div>
    <div class="col-6">
      
        <button 
        *ngIf="loggedInUser['AASecLevel'] == 'ADMIN' || loggedInUser['AASecLevel'] == 'EXEC'"
        (click)="DeleteAgency()" 
        class="action-btn">Delete Agency</button>
        <button 
        *ngIf="loggedInUser['AASecLevel'] == 'ADMIN' || loggedInUser['AASecLevel'] == 'EXEC'"
        (click)="AddAgency()" 
        class="action-btn">Add Agency</button>
      
        <button 
        *ngIf="loggedInUser['AASecLevel'] == 'ADMIN' || loggedInUser['AASecLevel'] == 'EXEC'"
        (click)="EditAgency(selectedAgency)" 
        class="action-btn">Edit Agency</button>
    </div>
</div>
<div>
    <!-- #1 row -->
    <div class="x_panel tile">
        <div class="x_title row" (click)="AgencyInfoClick()">
            <div class="col-10">
                <h4 class="d-inline-block m-0">Agency Info</h4>
            </div>
            <div class="col-2 text-right">
                <a class="collapse-link" (click)="AgencyInfoClick()"><i
                        [ngClass]="showAgencyInfo?'fa fa-chevron-up':'fa fa-chevron-down'"></i></a>
            </div>
        </div>
        <div class="x_content pt-3" [ngClass]="showAgencyInfo?'show':'hide'">
            <div class="row" *ngIf="selectedAgency">
                <div class="col-md-4 col-sm-4 col-3 pb-10">
                    <div class="detail-1">
                        Mailing Address
                    </div>
                </div>
                <div class="col-md-8 col-sm-8 col-9 pb-10">
                    <div class="detail-2">
                        {{selectedAgency.agency_maddr1}}
                        {{selectedAgency.agency_maddr2}}
                        {{selectedAgency.agency_mcity}}
                        {{selectedAgency.agency_mstate}}
                        {{selectedAgency.agency_mzip}}
                    </div>
                </div>
                <div class="col-md-4 col-sm-4 col-3 pb-10">
                    <div class="detail-1">
                        Address
                    </div>
                </div>
                <div class="col-md-8 col-sm-8 col-9 pb-10">
                    <div class="detail-2">
                        {{selectedAgency.agency_addr1}}
                        {{selectedAgency.agency_addr2}}
                        {{selectedAgency.agency_city}}
                        {{selectedAgency.agency_state}}
                        {{selectedAgency.agency_zip}}
                    </div>
                </div>
                <div class="col-md-4 col-sm-4 col-3 pb-10">
                    <div class="detail-1">
                        Phone
                    </div>
                </div>
                <div class="col-md-8 col-sm-8 col-9 pb-10">
                    <div class="detail-2">
                        {{selectedAgency.agency_phone}}
                    </div>
                </div>
                <div class="col-md-4 col-sm-4 col-3 pb-10">
                    <div class="detail-1">
                        Text
                    </div>
                </div>
                <div class="col-md-8 col-sm-8 col-9 pb-10">
                    <div class="detail-2">
                        {{selectedAgency.agency_text}}
                    </div>
                </div>
                <div class="col-md-4 col-sm-4 col-3 pb-10">
                    <div class="detail-1">
                        Fax
                    </div>
                </div>
                <div class="col-md-8 col-sm-8 col-9 pb-10">
                    <div class="detail-2">
                    {{selectedAgency.agency_fax}}
                    </div>
                </div>
                <div class="col-md-4 col-sm-4 col-3 pb-10">
                    <div class="detail-1">
                        Website
                    </div>
                </div>
                <div class="col-md-8 col-sm-8 col-9 pb-10">
                    <div class="detail-2">
                        {{selectedAgency.agency_web}}
                    </div>
                </div>
                <!-- <div class="col-md-4 col-sm-4 col-3 pb-10">
                    <div class="detail-1">
                        License #
                    </div>
                </div>
                <div class="col-md-8 col-sm-8 col-9 pb-10">
                    <div class="detail-2">
                        {{selectedAgency.agency_license}}
                    </div>
                </div> -->
                <div class="col-md-4 col-sm-4 col-3 pb-10">
                    <div class="detail-1">
                        State Appointments
                    </div>
                </div>
                <div class="col-md-8 col-sm-8 col-9 pb-10">
                    <div class="detail-2">
                        {{selectedAgency.agency_state_appts}}
                    </div>
                </div>
                <div class="col-md-4 col-sm-4 col-3 pb-10">
                    <div class="detail-1">
                        Notes
                    </div>
                </div>
                <div class="col-md-8 col-sm-8 col-9 pb-10">
                    <div class="detail-2" style="white-space: pre-line">
                        {{selectedAgency.agency_notes}}
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- #2 row -->
    <div class="x_panel tile">
        <div class="x_title row" (click)="ContactInfoClick()">
            <div class="col-10">
                <h4 class="d-inline-block m-0">Contact Info</h4>
            </div>
            <div class="col-2 text-right">
                <a class="collapse-link " (click)="ContactInfoClick()"><i
                        [ngClass]="showContactInfo?'fa fa-chevron-up':'fa fa-chevron-down'"></i></a>
            </div>
        </div>
        <div class="row" style="float:right; margin-top: 10px;" *ngIf="(selectedAgency|json) != ({} | json) && showContactInfo">
            <button 
            *ngIf="loggedInUser['AASecLevel'] == 'ADMIN' || loggedInUser['AASecLevel'] == 'EXEC'"
            style="margin-left: 10px ;" 
            (click)="OpenAddContact(addAgencyContact)" 
            class="action-btn">Add
                Contact</button>
        </div>
        <div class="x_content row pt-3" [ngClass]="showContactInfo?'show':'hide'">
          
            <div *ngIf="agencyContact">
                <div class="row detail-2 contact-header">
                    <div class="col-3">Name/Department</div>
                    <div class="col-2">Title/Position</div>
                    <!-- <div class="col-2">Phone</div> -->
                    <div class="col-2">Email</div>
                    <div class="col-1" *ngIf="loggedInUser['AASecLevel'] == 'ADMIN'">Edit</div>
                    <div class="col-1" *ngIf="loggedInUser['AASecLevel'] == 'ADMIN'">Order</div>
                    <div class="col-1" *ngIf="loggedInUser['AASecLevel'] == 'ADMIN'">Delete</div>
                </div>

                <div class="row mb-15" style="border-bottom: 1px solid #ccc;padding-bottom: 5px;" *ngFor="let contact of agencyContact;let i=index;">
                    <div class="col-3 detail-1">{{contact.contact_first_name}} {{contact.contact_middle_name}}
                        {{contact.contact_last_name}}</div>
                        <div class="col-2 detail-1">{{contact.contact_notes}}</div>
                    <!-- <div class="col-2 detail-1" >{{contact.contact_phone}}</div> -->
                    <div class="col-2 detail-1" style="overflow-wrap: break-word;">{{contact.contact_email}}</div>
                    <div class="col-1"  *ngIf="loggedInUser['AASecLevel'] == 'ADMIN'">
                        <i (click)="OpenEdit(contact,addAgencyContact)" class="fa fa-pencil action-icon" title="Edit" aria-hidden="true"></i>
                    </div>
                    <div class="col-1"  *ngIf="loggedInUser['AASecLevel'] == 'ADMIN'">
                        <i *ngIf="i != 0" class="fa fa-trash-o fa-arrow-up action-icon" style="margin-left: -11px;" title="Up"
                            aria-hidden="true" (click)="UpdateAgencyContactOrder(contact,1)"></i> &nbsp;
                        <i class="fa fa-trash-o fa-arrow-down action-icon" title="Down" aria-hidden="true" (click)="UpdateAgencyContactOrder(contact,0)"></i>
                    </div>
                    <div class="col-1"  *ngIf="loggedInUser['AASecLevel'] == 'ADMIN'">
                        <i (click)="Delete(contact)" class="fa fa-trash-o action-icon" title="Delete" aria-hidden="true"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- #3 row -->
   
    <!-- #4 row -->
    <div class="x_panel tile">
        <div class="x_title row" (click)="OfficeClosuresClick()">
            <div class="col-10">
                <h4 class="d-inline-block m-0">Office Closures</h4>
            </div>
            <div class="col-2 text-right">
                <a class="collapse-link " (click)="OfficeClosuresClick()"><i
                        [ngClass]="showOfficeClosures?'fa fa-chevron-up':'fa fa-chevron-down'"></i></a>
            </div>
        </div>

        <div class="row" style="float:right; margin-top: 10px;" *ngIf="(selectedAgency|json) != ({} | json) && showOfficeClosures">
            <button 
            (click)="openAddHoliday(addHoliday)"
            *ngIf="loggedInUser['AASecLevel'] == 'ADMIN' || loggedInUser['AASecLevel'] == 'EXEC'"
            style="margin-left: 10px ;" 
            class="action-btn">Add Holiday/Office Closure</button>
        </div>

        <div class="x_content pt-3" [ngClass]="showOfficeClosures?'show':'hide'">
            <div class="row detail-2 contact-header">
                <div class="col-6">Reason</div>
                <div class="col-4">Date</div>
                <div class="col-2">Delete</div>
            </div>
            <div class="row" *ngFor="let closure of agencyClosures">
                <div class="col-md-6 col-sm-6 col-6">
                    <div class="detail-1"> {{closure.hol_reason}} </div>
                </div>
                <div class="col-md-4 col-sm-4 col-4">
                    <div class="detail-1">{{closure.hol_date |date }}</div>
                </div>
                <div class="col-2">
                    <i *ngIf="loggedInUser['AASecLevel'] == 'ADMIN' || loggedInUser['AASecLevel'] == 'EXEC'" (click)="DeleteHoliday(closure)" class="fa fa-trash-o action-icon" title="Delete" aria-hidden="true"></i>
                </div>
            </div>
        </div>
       
    </div>

    <!-- #5 row -->
    <div class="x_panel tile">
        <div class="x_title row" (click)="BussinssHoursClick()">
            <div class="col-10">
                <h4 class="d-inline-block m-0">Business Hours</h4>
            </div>
            <div class="col-2 text-right">
                <a class="collapse-link "><i
                        [ngClass]="showOfficeClosures?'fa fa-chevron-up':'fa fa-chevron-down'"></i></a>
            </div>
        </div>
        <div class="row" style="float:right; margin-top: 10px;" *ngIf="(selectedAgency|json) != ({} | json) && showBusinessHours">
            <button 
            (click)="OpenAddBusinessHour(businessHours)"
            *ngIf="loggedInUser['AASecLevel'] == 'ADMIN' || loggedInUser['AASecLevel'] == 'EXEC'"
            style="margin-left: 10px ;" 
            class="action-btn">Edit Business Hours</button>
        </div>

        <div class="x_content pt-3" [ngClass]="showBusinessHours?'show':'hide'">
           
            <div style="margin-bottom: 20px;">
                <span class="detail-2">Time Zone:</span>
                <span style="margin-left: 17px;font-size: 14px;color: #000000;">{{timeZone}}</span>   
              </div>
            

            <div class="row detail-2 contact-header">
                <div class="col-6">Week Day</div>
                <div class="col-6">Timing</div>
            </div>
            <div class="row" *ngFor="let hour of agencyHours">
                <div class="col-md-6 col-sm-6 col-6">
                    <div class="detail-1"> {{hour.day_of_week}}</div>
                </div>
                <div class="col-md-6 col-sm-6 col-6">
                    <div class="detail-1">{{hour.biz_hrs}}</div>
                </div>
            </div>
        </div>
    </div>


    <div class="x_panel tile">
        <div class="x_title row" (click)="CarrierClick()">
            <div class="col-10">
                <h5 class="d-inline-block m-0">Carriers</h5>
            </div>
            <div class="col-2 text-right">
                <a class="collapse-link " (click)="CarrierClick()"><i
                        [ngClass]="showCarrier?'fa fa-chevron-up':'fa fa-chevron-down'"></i></a>
            </div>
        </div>
        <div class="row" style="float:right; margin-top: 10px;" *ngIf="(selectedAgency|json) != ({} | json) && showCarrier">
            <button 
            (click)="OpenAddCarrier(addCarrier)"
            *ngIf="loggedInUser['AASecLevel'] == 'ADMIN' || loggedInUser['AASecLevel'] == 'EXEC'"
            style="margin-left: 10px ;" 
            class="action-btn">Add Carrier</button>
        </div>
        <div class="x_content pt-3" [ngClass]="showCarrier?'show':'hide'">
            <div *ngIf="carriers">
                <div class="row detail-2 contact-header">
                    <div class="col-7">Carrier Name</div>
                    <div class="col-2">View PC</div>
                    <div class="col-3">Delete Carrier</div>
                </div>

                <div class="row border-bottom py-2" *ngFor="let carrier of carriers">
                    <div class="col-7 detail-1">{{carrier.carrier_name}}</div>
                    <div (click)="ViewPC(viewpc,carrier)" class="col-2 detail-1"  *ngIf="loggedInUser['AASecLevel'] == 'ADMIN' || loggedInUser['AASecLevel'] == 'EXEC'"> <i class="fa fa-eye action-icon" aria-hidden="true" title="View PC"></i></div>
                    <div (click)="DeleteCarrier(carrier)" class="col-3 detail-1 pl-5"  *ngIf="loggedInUser['AASecLevel'] == 'ADMIN' || loggedInUser['AASecLevel'] == 'EXEC'"><i class="fa fa-trash-o action-icon" title="Delete"
                            aria-hidden="true"></i></div>  
                                   
                </div>
            </div>
        </div>
    </div>

</div>

<ng-template #addAgencyContact>
    <div class="container body">
        <form class="add-user-form" [formGroup]="addAgenctyContactForm" (ngSubmit)="AddAgencyContact()">
            <div class="row header mb-4">
                <div class="col-10">
                    <div class="header">
                        <h4 class="mb-0">{{model_title}}</h4>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-6 col-12">
                    <div class="form-group">
                        <input type="text" class="form-control" id="firstName" formControlName="firstName"
                            placeholder="First Name">
                        <div *ngIf="submitted && f.firstName.errors" class="invalid-feedback" style="display:block">
                            <div *ngIf="f.firstName.errors.required">Required</div>
                        </div>
                    </div>
                </div>

                <div class="col-sm-6 col-12">
                    <div class="form-group">
                        <input type="text" class="form-control" id="lastName" formControlName="lastName"
                            placeholder="Last name">
                        <div *ngIf="submitted && f.lastName.errors" class="invalid-feedback" style="display:block">
                            <div *ngIf="f.lastName.errors.required">Required</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-6 col-12">
                    <div class="form-group">
                        <input type="text" class="form-control" id="MiddleName" formControlName="MiddleName"
                            placeholder="Middle Name">
                        <div *ngIf="submitted && f.MiddleName.errors" class="invalid-feedback" style="display:block">
                            <div *ngIf="f.MiddleName.errors.required">Required</div>
                        </div>
                    </div>
                </div>
                <div class="col-sm-6 col-12">
                    <div class="form-group">
                        <input type="text" class="form-control" id="suffix" formControlName="suffix"
                            placeholder="Suffix">
                        <div *ngIf="submitted && f.suffix.errors" class="invalid-feedback" style="display:block">
                            <div *ngIf="f.suffix.errors.required">Required</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <!-- <div class="col-sm-6 col-12">
                    <div class="form-group">
                        <input type="text" class="form-control" id="phoneNumber" formControlName="phoneNumber"
                            placeholder="Phone Number">
                        <div *ngIf="submitted && f.phoneNumber.errors" class="invalid-feedback" style="display:block">
                            <div *ngIf="f.phoneNumber.errors.required">Required</div>
                        </div>
                        <div *ngIf="submitted && f.phoneNumber.errors" class="invalid-feedback" style="display:block">
                            <div *ngIf="f.phoneNumber.errors.pattern">Enter valid Number</div>
                        </div>
                    </div>
                </div> -->
                <div class="col-sm-12 col-12">
                    <div class="form-group">
                        <input type="email" class="form-control" id="email" formControlName="email" placeholder="Email">
                        <div *ngIf="submitted && f.email.errors" class="invalid-feedback" style="display:block">
                            <div *ngIf="f.email.errors.required">Required</div>
                        </div>
                        <div *ngIf="submitted && f.email.errors" class="invalid-feedback" style="display:block">
                            <div *ngIf="f.email.errors.email">Enter valid email</div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- <div class="row">
                <div class="col-sm-12 col-12">
                    <div class="form-group">
                        <textarea class="form-control" id="notes" formControlName="notes"
                            placeholder="Notes"></textarea>
                        <div *ngIf="submitted && f.notes.errors" class="invalid-feedback" style="display:block">
                            <div *ngIf="f.notes.errors.required">Required</div>
                        </div>
                    </div>
                </div>
            </div> -->
            <div class="row">
                <div class="col-sm-12 col-12">
                    <div class="form-group">
                        <textarea class="form-control" id="titleposition" placeholder="Title/Position" formControlName="notes" (input)="uncheckalltextbox()"></textarea>
                    </div>
                </div>
            </div>
            <br>
            <div class="row">
                <div class="col-sm-6 col-12 mb-2">
                    <div class="form-group single-line-row">
                        <input type="radio" name="RadioBtn" id="Directchk" style="height: 23px; width: 30px;" [checked]="isChkBoxEnabled" (click)="setradio('Direct to')" >
                        <label style="font-size: 16px; text-align: center; margin-bottom: 0;margin-left: 10px;">Direct to</label>
                        <input type="text" class="form-control" id="Directtxt" [readOnly]="!isTextBoxEnabled" formControlName="Directtxt" (change)="changenotestext()">
                    </div>
                </div>
    
                <div class="col-sm-6 col-12 mb-2">
                    <div class="form-group single-line-row">
                        <input type="radio" class="form-control" id="Noservicechk" name="RadioBtn" [checked]="isChkBoxEnabled" (click)="setradio('NA- Service Not Offered')" style="height: 23px; width: 30px;">
                        <label style="margin-left: 10px;font-size: 16px;margin-bottom: 0; margin-right: 0;">NA- Service Not Offered</label>
                    </div>
                </div>
                <div class="col-sm-8 col-12">
                    <div class="form-group d-flex">
                        <input type="radio" class="form-control" id="Requestchk" name="RadioBtn" [checked]="isChkBoxEnabled" (click)="setradio('AAI by Request/ If on Vacation Only')" style="height: 23px; width: 30px;">
                        <label style="margin-left: 10px;font-size: 16px;">AAI by Request/ If on Vacation Only</label>
                    </div>
                </div>
                <div class="col-sm-4 col-12" style="display: none;">
                    <div class="form-group d-flex">
                        <input type="radio" class="form-control" formControlName="defaulttchk" id="defaulttchk" name="RadioBtn" [checked]="isChkBoxEnabled" style="height: 23px; width: 30px;">
                    </div>
                </div>
            </div> 
            <div class="row pt-3">
                <div class="col-sm-6 col-12">
                    <div class="form-group">
                        <button type="button" class="btn cancle-btn btn-block" (click)="close()">Cancel</button>
                    </div>
                </div>
                <div class="col-sm-6 col-12">
                    <div class="form-group">
                        <button *ngIf="isAddContact" type="button" class="btn add-user btn-block" (click)="AddAgencyContact()">Add Agency
                            Contact</button>
                            <button *ngIf="isEditContact" type="button" class="btn add-user btn-block" (click)="EditAgencyContact()">Edit Agency
                                Contact</button>
                    </div>
                </div>
            </div>
        </form>
    </div>
</ng-template>

<ng-template #addCarrier>
    <div class="modal-header">
       <h4 class="modal-title pull-left">Add Agency Carrier</h4>
       <button type="button" class="close pull-right" aria-label="Close" (click)="close()">
          <span aria-hidden="true">×</span>
       </button>
    </div>
    <div class="modal-body">
        <select class="form-control" [(ngModel)]="selectedCarrier">
            <option value="" disabled>Select Carrier</option>
            <option *ngFor="let carrier of allCarriers" [ngValue]="carrier.carrier_id">
                {{carrier.carrier_name}}
            </option>
        </select>
    </div>
    <div class="modal-footer">
        <button type="button" type="submit" class="btn btn-default" (click)="AddCarrier()">Submit</button>
        <button type="button" class="btn btn-default" (click)="close()">Close</button>
     </div>
 </ng-template>

 <ng-template #businessHours>
    <div class="modal-lg">
        <div class="modal-header">
            <h4 class="modal-title pull-left">Edit Business Hours</h4>
            <button type="button" class="close pull-right" aria-label="Close" (click)="close()">
               <span aria-hidden="true">×</span>
            </button>
         </div>
         <div class="modal-body">

            <div>
                <label>Time Zone</label>
                <select class="timeZone" id="timeZone" name="timeZone" [(ngModel)]="timeZone">
                    <option value="" selected>--Select--</option>
                    <option *ngFor="let zone of timeZoneList" [value]="zone['Code']"> 
                          {{ zone['Name'] }}
                    </option>
                  </select>
            </div>

            <div class="row detail-2 contact-header">
                <div class="col-3"> Open Time</div>
                <div class="col-4"> Open Time</div>
                <div class="col-4"> Close Time</div>
                <div class="col-1">Is Closed</div>
            </div>
            <div class="row" *ngFor="let hour of agencyHours">
                <div class="col-md-3 col-sm-3 col-3">
                    <div class="detail-1"> {{hour.day_of_week}}</div>
                </div>
                <div class="col-md-4 col-sm-4 col-4">
                    <ngb-timepicker *ngIf="!hour.IsClosed" [(ngModel)]="hour.openTime" [spinners]="spinner" [meridian]="true"></ngb-timepicker>
                     <div *ngIf="hour.IsClosed" style="margin-left: 40px; margin-top:10px">CLOSED</div>
                </div>
                <div class="col-md-4 col-sm-4 col-4" >
                    <ngb-timepicker *ngIf="!hour.IsClosed" [(ngModel)]="hour.closeTime" [spinners]="spinner" [meridian]="true"></ngb-timepicker>
                    <div *ngIf="hour.IsClosed" style="margin-left: 40px; margin-top:10px">CLOSED</div>
                </div>
                <div class="col-md-1 col-sm-1 col-1">
                    <input  type="checkbox"  [checked]="hour.IsClosed"  (change)="hour.IsClosed = !hour.IsClosed"/>
                </div>
            </div>
        </div> 
        <div class="modal-footer">
            <button type="button" type="submit" class="btn btn-default" (click)="UpdateHours()">Submit</button>
            <button type="button" class="btn btn-default" (click)="close()">Close</button>
         </div>
     </div>       
 </ng-template>

 <ng-template #addHoliday>
    <div class="modal-header">
       <h4 class="modal-title pull-left">Add Holiday/Closure Date</h4>
       <button type="button" class="close pull-right" aria-label="Close" (click)="close()">
          <span aria-hidden="true">×</span>
       </button>
    </div>
    <div class="modal-body">
        <div>
            <span>Date:</span>  
             <input placeholder="Select Date.." style="margin: 25px;"
              name="dp" [(ngModel)]="holidayDate" ngbDatepicker #d="ngbDatepicker"  (click)="d.toggle()">
        </div>
        <div>
            <span>Reason:</span> 
            <input style="margin-left: 10px;" type="text" [(ngModel)]="holidayReason"/>
        </div>
    </div>
    <div class="modal-footer">
        <button type="button" type="submit" class="btn btn-default" (click)="AddHoliday()">Submit</button>
        <button type="button" class="btn btn-default" (click)="close()">Close</button>
     </div>
 </ng-template>

 <ng-template #viewpc>
    <div class="modal-header">
       <h4 class="modal-title pull-left">{{viewPcTitle}} </h4>
       <button type="button" class="close pull-right" aria-label="Close" (click)="close()">
          <span aria-hidden="true">×</span>
       </button>
    </div>
    <div class="modal-body">
        <div class="row">
            <div class="col-7 detail-2 contact-header">
              Producer Code
            </div>
            <div class="col-2 detail-2 contact-header">
              Type
            </div>
            <div class="col-1 detail-2 contact-header">
              Edit
            </div>
            <div class="col-2 detail-2 contact-header">
                Delete
            </div>
        </div>
        <div class="row" *ngFor="let pc of producerCodeList">
            <div class="col-7">
              {{pc.producer_code}}
            </div>
            <div class="col-2">
              {{pc.brnachName}}
            </div>
            <div class="col-1" style="padding-left: 25px;">
                <i (click)="EditPC(addpc, pc,false)" class="fa fa-pencil action-icon" title="Edit" aria-hidden="true"></i>
            </div>
            <div class="col-2" style="padding-left: 40px;">
                <i (click)="DeletePC(pc)" class="fa fa-trash-o action-icon" title="Delete" aria-hidden="true"></i>
            </div>
        </div>
        
    </div>
    <div class="modal-footer">
        <button type="button" type="submit" class="btn btn-default" (click)="EditPC(addpc,'',true)">Add Producer Code</button>
        <button type="button" class="btn btn-default" (click)="close()">Close</button>
     </div>
 </ng-template>

 <ng-template #addpc>
    <div style="max-height: 600px; overflow: auto;">
    <div class="modal-header">
       <h4 class="modal-title pull-left">{{prodCodeTitle}}</h4>
       <button type="button" class="close pull-right" aria-label="Close" (click)="closeAddPC(addpc)">
          <span aria-hidden="true">×</span>
       </button>
    </div>
    <div class="modal-body">
        <form  [formGroup]="addProducerCodeForm" (ngSubmit)="submitPC()">
            <div class="row mb-15">
                <div class="col-6">
                    <input type="text" id="producerCode" formControlName="producerCode" placeholder="Producer Code"/>
                    <div *ngIf="isProducerCodeSubmit && this.addProducerCodeForm.controls.producerCode.errors" style="display: block ;" class="invalid-feedback">
                        <div *ngIf="this.addProducerCodeForm.controls.producerCode.errors.required">Required</div>
                    </div>
                </div>
               </div>
               <div class="row mb-15">
                <div class="col-2">Personal</div>
                <div class="col-1"><input type="checkbox" id="branchPersonal" formControlName="branchPersonal" (change)="BranchChanged('P', $event)"/></div> 
                <div class="col-2">Commercial</div>
                <div class="col-1"><input type="checkbox" id="branchCommercial" formControlName="branchCommercial" (change)="BranchChanged('C', $event)"/></div> 
                <div class="col-2">Admin</div>
                <div class="col-1"><input type="checkbox" id="branchAdmin" formControlName="branchAdmin" (change)="BranchChanged('A', $event)"/></div> 
                <div class="row" *ngIf="isProducerCodeSubmit && (!this.addProducerCodeForm.controls.branchPersonal.value && !this.addProducerCodeForm.controls.branchCommercial.value && !this.addProducerCodeForm.controls.branchAdmin.value)" style="display: block; margin-left: 15px;" class="invalid-feedback">
                    Required
                </div> 
            </div>
           
               <div class="row mb-15">
                <div class="col-6">
                     <input type="text" placeholder="User Name" id="userName" formControlName="userName"/>
                     <div *ngIf="isProducerCodeSubmit && this.addProducerCodeForm.controls.userName.errors" style="display: block ;" class="invalid-feedback">
                        <div *ngIf="this.addProducerCodeForm.controls.userName.errors.required">Required</div>
                    </div>    
                </div>
                <div class="col-6">
                     <input type="text" placeholder="Password" id="pwd" formControlName="pwd"/>
                     <div *ngIf="isProducerCodeSubmit && this.addProducerCodeForm.controls.pwd.errors" style="display: block ;" class="invalid-feedback">
                        <div *ngIf="this.addProducerCodeForm.controls.pwd.errors.required">Required</div>
                    </div>  
                    </div>
               </div>
               <div class="row mb-15">
                <div class="col-6">Show Denied Staff from team</div>
               </div>
               <div class="row mb-15">
                <div class="col-10">
                    <select (change)="getDenieduser()" id="team" formControlName="team">
                        <option value="0">ALL STAFF</option>
                        <option *ngFor="let team of teams" [ngValue]="team.team_id">
                            {{team.team_name}}
                        </option>
                    </select>
                </div>
               </div>
               <div class="row">
                <div class="col-6"> <button type="button" (click)="denySelected()"  class="btn btn-default">Deny Selected</button></div>
               <div class="col-6"><button type="button"  (click)="grantSelected()"  class="btn btn-default">Grant Selected</button></div>
               </div>
                <div class="row detail-2 contact-header">
                    <div class="col-6">Granted Staff</div>
                    <div class="col-6">Denied Staff</div>
               </div>
               <div class="row ">
                <div class="col-6">
                    <input type="checkbox" [checked]="denySelectAll" (change)="denySelectAll = !denySelectAll"> Select All 
                    <br>
                    <div *ngFor="let user of granteduser">
                        <input type="checkbox" [checked]="user['IsSelected']"  (change)="user['IsSelected'] = !user['IsSelected']" >
                        {{user.first_name}}  {{user.middle_name}}   {{user.last_name}}
                    </div>
                </div>
                <div class="col-6">
                    <input type="checkbox" [checked]="grantSelectAll" (change)="grantSelectAll = !grantSelectAll"> Select All
                    <br>
                    <div *ngFor="let user of deniedUser">
                        <input type="checkbox" [checked]="user['IsSelected']"  (change)="user['IsSelected'] = !user['IsSelected']" >
                        {{user.first_name}}  {{user.middle_name}}   {{user.last_name}}
                    </div>
                </div>
           </div>
        </form>
      
    </div>
    <div class="modal-footer">
        <button type="button" type="submit" class="btn btn-default" (click)="AddEditSubmitPC()">{{pcBtnLable}}</button>
        <button type="button" class="btn btn-default" (click)="closeAddPC(addpc)">Close</button>
     </div>
    </div>
 </ng-template>
